Hardware Config:
SPI Mode 3

Software Outline:

- Check if everything is connected and is able to communicate properly (RDCFG)
- Broadcast new (write) configuration (WRCFG) (REFON=1 -> always awake)
- Demo measurements + clear broadcast + check if everything is stuck (measure + CLRCELL broadcast + measure and compare bits)

- Start performing measurements (0xFF are bad)

- Precharge Circuit (later)

- Measure transmit speed on each measurement loop. If full measurement cycle performed at sub 100ms, send some CAN data to the ECU (later)

- Reset configuration from data read from CAN - on startup (later)

#Misc:

Tests:
Do you need ADC Start every time before performing new measurements - (yes)
Benchmark ADC Start -> End of ADC Poll time
Benchmark full register read over i2c - volts + status reg (yes) use only status registers?

Notes:
Worse case (26Hz) ADC Conversion time (for all cells) : 201ms
Best case (27KHz) : 1.1ms - (based on specs)

(yes) Use VUV + VOV instead of measuring voltages (RDSTATx + Look at CxOV and CxUV on tables)

(info) The LTC6811-2 uses pins 45 through 48 to set the address of the device, by tying these pins to Vâ€“ or VREG (A3-A0 ~ top right)

* Overlap cell measurement (use 2 ADCs for same cell) (ADOL) ?
* Open wire check (ADOW) - startup only (probably - time consuming)

(info) Slower transmission ratio on isoSPI <=> more noise immunity

---------------------------------------------------------------

Teensy SPI Clock Divider in order not to fuck up results - 16
Discharge Permitted (yes - keep off for now)
2nd VRef (yes - it's output 3V actually)
Pull Up or Down for Open Wire checks ?
Discharge Timer Enable (discharge off for now)
Shorting for cells ? (no?)
Discharge Time Out Values (discharge off for now) (DTO) & (DCC - Cell Discharge)
DO you need to poll ADC status before reading status registers, right after ADCV broadcast?